{% extends "base.html" %}
{% block content %}

<!-- ========================= RESULT HEADER – GOLD EDITION ========================= -->

<section class="result-top gold-header">
    <div class="gold-badge">Articol generat – Gold Edition</div>

    <h2 class="result-title gold-title">
        {{ title }}
    </h2>

    <p class="result-source">
        <span>Probă extrasă de pe:</span>
        <a href="{{ probe_url }}" target="_blank">{{ probe_url }}</a>
    </p>
</section>


<!-- ========================= ARTICLE + SIDEBAR ========================= -->

<section class="article-layout">

    <!-- ========================= MAIN ARTICLE ========================= -->
    <article class="article-main gold-article">
        <header class="article-header gold-divider">
            <p class="article-label">Previzualizare articol complet</p>
        </header>

        <div class="article-body">
            {{ article | safe }}
        </div>
    </article>

    <!-- ========================= SIDEBAR ========================= -->
    {% if images and images|length > 0 %}
    <aside class="article-sidebar gold-sidebar">
        <h3>Imagini extrase din probă</h3>
        <p class="sidebar-hint">
            Poți folosi imaginile direct în WordPress sau le poți înlocui cu propriile fotografii.
        </p>

        <div class="image-grid">
            {% for img in images %}
            <figure class="image-card">
                <img src="{{ img }}" alt="Imagine asociată probei">
            </figure>
            {% endfor %}
        </div>
    </aside>
    {% endif %}

</section>


<!-- ========================= EDITOR SECTION – GOLD ========================= -->

<section class="editor-section gold-editor">
    <h2>Editare finală înainte de publicare</h2>

    <p class="editor-intro">
        Înainte să publici articolul în WordPress, poți ajusta titlul, stilul, imaginile și poți adăuga notele personale necesare unui articol SuperBlog câștigător.
    </p>

    <form method="post" action="{{ url_for('publish') }}" class="editor-form">

        <!-- TITLU EDITABIL -->
        <div class="form-row">
            <label for="title">Titlu articol (WordPress)</label>
            <input type="text" id="title" name="title" value="{{ title }}" required>
        </div>

        <!-- CONȚINUT EDITABIL -->
        <div class="form-row">
            <label for="content">Conținut articol (HTML)</label>
            <textarea id="content" name="content" rows="22" required>{{ article }}</textarea>

            <p class="hint">
                Pentru imagini suplimentare poți folosi:<br>
                <code>&lt;figure&gt;&lt;img src="URL" alt="descriere"&gt;&lt;figcaption&gt;Legenda&lt;/figcaption&gt;&lt;/figure&gt;</code>
            </p>
        </div>

        <!-- ACȚIUNI -->
        <div class="editor-actions">
            <button type="submit" class="btn-primary gold-button">Publică în WordPress</button>
            <a href="{{ url_for('index') }}" class="btn-secondary">Generează alt articol</a>
        </div>
    </form>
</section>

{% endblock %}

